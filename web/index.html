<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>第51回衆院選比例区得票マップ</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="app">
      <aside class="sidebar">
        <h1 id="titleMain">第51回衆議院議員選挙</br>比例区得票マップ</h1>
        <div class="control-group" id="groupPlotMode">
          <label for="plotModeSelect">表示モード</label>
          <select id="plotModeSelect">
            <option value="share" selected>政党得票率</option>
            <option value="party_rank">選択政党の順位</option>
            <option value="rank">順位政党（第N位）</option>
            <option value="opposition_rank">野党第N党</option>
            <option value="selected_diff">二つの政党の比較</option>
            <option value="ruling_vs_opposition">与野党比較</option>
            <option value="concentration">票の集中度</option>
          </select>
        </div>
        <div id="modeHelp" class="help hidden"></div>
        <div class="control-group" id="groupGranularity">
          <label for="granularitySelect">表示単位</label>
          <select id="granularitySelect">
            <option value="block">ブロック</option>
            <option value="pref">都道府県</option>
            <option value="muni" selected>市区町村</option>
          </select>
        </div>
        <div class="control-group" id="groupParty">
          <label for="partySelect">基準政党</label>
          <select id="partySelect"></select>
        </div>
        <div class="control-group hidden" id="groupCompareTarget">
          <label for="compareTargetSelect">比較対象</label>
          <select id="compareTargetSelect">
            <option value="top" selected>第1党</option>
          </select>
        </div>
        <div class="control-group hidden" id="groupSelectedMetric">
          <label for="selectedMetricSelect">指標</label>
          <select id="selectedMetricSelect">
            <option value="diff" selected>差 (基準 - 比較)</option>
            <option value="ratio">比 (基準/比較)</option>
          </select>
        </div>
        <div id="selectedMetricHelp" class="help hidden"></div>
        <div class="control-group hidden" id="groupRulingMetric">
          <label for="rulingMetricSelect">指標</label>
          <select id="rulingMetricSelect">
            <option value="diff" selected>差 (与党 - 野党)</option>
            <option value="ratio">比 (与党/野党)</option>
          </select>
        </div>
        <div id="rulingMetricHelp" class="help hidden"></div>
        <div class="control-group" id="groupScaleMode">
          <label for="scaleMode">色スケール</label>
          <select id="scaleMode">
            <option value="fixed">固定スケール</option>
            <option value="party">政党別スケール</option>
          </select>
        </div>
        <div id="scaleHelp" class="help">固定: 政党間で同じ基準。</br>政党別: 選択中政党内で濃淡を見やすく調整。</div>
        <div class="control-group" id="groupRank">
          <label for="rankSelect">順位（N）</label>
          <select id="rankSelect"></select>
        </div>

        <div class="block-title" id="legendTitle">凡例（得票率）</div>
        <div id="legend"></div>

        <div class="block-title display-settings-title">表示設定</div>
        <div class="toggle-group">
          <div class="control-group" id="groupLabels">
            <label class="checkbox-row" for="labelToggle">
              <input id="labelToggle" type="checkbox" />
              地名ラベル表示
            </label>
          </div>
          <div class="control-group" id="groupPrefBorders">
            <label class="checkbox-row" for="prefBorderToggle">
              <input id="prefBorderToggle" type="checkbox" checked />
              都道府県境界を表示
            </label>
          </div>
        </div>

        <div class="block-title">統計</div>
        <div id="stats" class="stats"></div>
      </aside>
      <main id="map"></main>
    </div>

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script src="./app.js"></script>
  </body>
</html>
